<div class="analytics-sparkle-area">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="analytics-sparkle-line reso-mg-b-30">
                    <div class="analytics-content">
                        <h5>Total User</h5>
                        <h2>
                            <span class="counter">@ViewBag.totalUser</span>
                            <span class="tuition-fees">All User</span>
                        </h2>
                        </br>
                        @*<span class="tuition-fees">Tuition Fees</span>*@
                        <div class="progress m-b-0">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:100%;"> <span class="sr-only"></span> </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="analytics-sparkle-line reso-mg-b-30">
                    <div class="analytics-content">
                        <h5>Ram Of VPS</h5>
                        <h2>MB <span class="counter">@ViewBag.information_use</span>
                        <span class="tuition-fees"><span>Total: </span>@ViewBag.information_total</span>
                        </h2>
                        <span class="text-inverse" id="inforram" style="margin-bottom:0px"/></span>%
                        <div class="progress m-b-0">
                            <div class="progress-bar progress-bar-inverse" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:80%;">
                            <span class="sr-only"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="analytics-sparkle-line reso-mg-b-30 table-mg-t-pro dk-res-t-pro-30">
                    <div class="analytics-content">
                        <h5>Product back return</h5>
                        <h2>$<span class="counter">@ViewBag.Returned</span> <span class="tuition-fees">Of Month</span></h2>
                        <span class="text-info" id="Returned"></span>%
                        <div class="progress m-b-0">
                            <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:3%;"> <span class="sr-only">20% Complete</span> </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="analytics-sparkle-line table-mg-t-pro dk-res-t-pro-30">
                    <div class="analytics-content">
                        <h5>Chemical Engineering</h5>
                        <h2>$<span class="counter">3500</span> <span class="tuition-fees">Tuition Fees</span></h2>
                        <span class="text-inverse">80%</span>
                        <div class="progress m-b-0">
                            <div class="progress-bar progress-bar-inverse" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:80%;"> <span class="sr-only">230% Complete</span> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="product-sales-area mg-tb-30">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
                <div class="product-sales-chart">
                    <div class="portlet-title">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <input class="input-group" type="date" id="fromDate" name="fromDate" data-date-format="DD MMMM YYYY" value="2020-01-01">
                                    </div>
                                    <div class="col-lg-4">
                                        <input type="date" id="toDate" name="toDate">
                                    </div>
                                    <div class="col-lg-4">
                                        <button id="time_submit" class="">GET</button>
                                    </div>
                                </div>

                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="caption pro-sl-hd" style="float:right">
                                    <span class="caption-subject"><b>Number of Orders</b></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="container"></div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                <div class="white-box analytics-info-cs mg-b-10 res-mg-t-30 table-mg-t-pro-n res-mg-b-30 tb-sm-res-d-n dk-res-t-d-n">
                    <h3 class="box-title">Total Orders</h3>
                    <ul class="list-inline two-part-sp">
                        <li>
                            <div id="sparklinedash"></div>
                        </li>
                        <li class="text-right sp-cn-r">
                            @*<i class="fa fa-level-up" aria-hidden="true"></i>*@
                            <span class="counter text-success">
                                <span class="counter">@ViewBag.total</span>
                            </span>
                        </li>
                    </ul>
                </div>
                <div class="white-box analytics-info-cs mg-b-10 res-mg-b-30 tb-sm-res-d-n dk-res-t-d-n">
                    <h3 class="box-title">Orders Sucess</h3>
                    <ul class="list-inline two-part-sp">
                        <li>
                            <div id="sparklinedash2"></div>
                        </li>
                        <li class="text-right graph-two-ctn">
                            @*<i class="fa fa-level-up" aria-hidden="true"></i>*@
                            <span class="counter text-purple">
                                <span class="counter">@ViewBag.totalOrserSucess</span>
                            </span>
                        </li>
                    </ul>
                </div>
                <div class="white-box analytics-info-cs mg-b-10 res-mg-b-30 tb-sm-res-d-n dk-res-t-d-n">
                    <h3 class="box-title">Revenue of month</h3>
                    <ul class="list-inline two-part-sp">
                        <li>
                            <div id="sparklinedash3"></div>
                        </li>
                        <li class="text-right graph-three-ctn">
                            <i class="fa fa-level-up" aria-hidden="true">
                            </i> <span class="counter text-info">
                                <span class="counter">@ViewBag.Revenueofmonth</span>
                            </span>$
                        </li>
                    </ul>
                </div>
                <div class="white-box analytics-info-cs tb-sm-res-d-n dk-res-t-d-n">
                    <h3 class="box-title">Bounce Rate</h3>
                    <ul class="list-inline two-part-sp">
                        <li>
                            <div id="sparklinedash4"></div>
                        </li>
                        <li class="text-right graph-four-ctn">
                            <i class="fa fa-level-up" aria-hidden="true"></i>
                            <span class="text-danger">
                                <span class="counter">@ViewBag.mothPrevious</span>%
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="traffic-analysis-area">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="social-media-edu">
                    <i class="fa fa-facebook"></i>
                    <div class="social-edu-ctn">
                        <h3>50k Likes</h3>
                        <p>You main list growing</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="social-media-edu twitter-cl res-mg-t-30 table-mg-t-pro-n">
                    <i class="fa fa-twitter"></i>
                    <div class="social-edu-ctn">
                        <h3>30k followers</h3>
                        <p>You main list growing</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="social-media-edu linkedin-cl res-mg-t-30 res-tablet-mg-t-30 dk-res-t-pro-30">
                    <i class="fa fa-linkedin"></i>
                    <div class="social-edu-ctn">
                        <h3>7k Connections</h3>
                        <p>You main list growing</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                <div class="social-media-edu youtube-cl res-mg-t-30 res-tablet-mg-t-30 dk-res-t-pro-30">
                    <i class="fa fa-youtube"></i>
                    <div class="social-edu-ctn">
                        <h3>50k Subscribers</h3>
                        <p>You main list growing</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid" style="margin-top:30px;">
    <div class="row">
        <div class="col-lg-12">
            <div id="chart2"></div>
        </div>
    </div>
</div>
<div class="container-fluid" style="margin-top:20px; margin-bottom:20px">
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
            <div class="single-review-st-item res-mg-t-30 table-mg-t-pro-n">
                <div class="single-review-st-hd">
                    <h2>Admin review</h2>
                </div>
                <div class="single-review-st-text">
                    <img src="~/MarkUps-dailyShop/dailyShop/img/admin/adminHanh.jpg" alt="">
                    <div class="review-ctn-hf">
                        <h3>Supper admin Hanh</h3>
                        <p>Team Leader</p>
                    </div>
                    <div class="review-item-rating">
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                    </div>
                </div>
                <div class="single-review-st-text">
                    <img src="~/MarkUps-dailyShop/dailyShop/img/admin/adminHieu.jpg" alt="">
                    <div class="review-ctn-hf">
                        <h3>Admin Hieu</h3>
                        <p>Full stack DEV</p>
                    </div>
                    <div class="review-item-rating">
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star-half"></i>
                    </div>
                </div>
                <div class="single-review-st-text">
                    <img src="~/MarkUps-dailyShop/dailyShop/img/admin/adminDuy.jpg" alt="">
                    <div class="review-ctn-hf">
                        <h3>Admin Duy</h3>
                        <p>Newbie Devops</p>
                    </div>
                    <div class="review-item-rating">
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star-half"></i>
                    </div>
                </div>
                <div class="single-review-st-text">
                    <img src="~/MarkUps-dailyShop/dailyShop/img/admin/adminNam.jpg" alt="">
                    <div class="review-ctn-hf">
                        <h3>Admin Nam</h3>
                        <p>Awesome FrontEnd</p>
                    </div>
                    <div class="review-item-rating">
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star-half"></i>
                    </div>
                </div>
                <div class="single-review-st-text">
                    <img src="~/MarkUps-dailyShop/dailyShop/img/admin/adminTuan.jpg" alt="">
                    <div class="review-ctn-hf">
                        <h3>Admin Tuan</h3>
                        <p>Master Database</p>
                    </div>
                    <div class="review-item-rating">
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star"></i>
                        <i class="educate-icon educate-star-half"></i>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@section Addscripts{

    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="~/kiaalap-master/js/counterup/jquery.counterup.min.js"></script>
    <script src="~/kiaalap-master/js/counterup/waypoints.min.js"></script>
    <script src="~/kiaalap-master/js/counterup/counterup-active.js"></script>
    <script src="~/kiaalap-master/js/sparkline/jquery.sparkline.min.js"></script>
    <script src="~/kiaalap-master/js/sparkline/jquery.charts-sparkline.js"></script>
    <script src="~/kiaalap-master/js/sparkline/<span></span>rkline-active.js"></script>
    <script type="text/javascript">
        var api = "@ViewBag.api";
        var date = new Date();
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        if (month < 10) month = "0" + month;
        if (day < 10) day = "0" + day;
        var today = year + "-" + month + "-" + day;
        // var endday = year + "-" + month + "-" + day2;
        var Returned = (@ViewBag.Returned / @ViewBag.Revenueofmonth) * 100;
        var ram = (@ViewBag.information_use / @ViewBag.information_total)*100;
        document.getElementById("inforram").innerHTML = Math.ceil(ram);
        document.getElementById("Returned").innerHTML = Math.ceil(Returned);
        document.getElementById('toDate').value = today;
        // document.getElementById('fromDate').value = endday;
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            $(function () {
                var api = "@ViewBag.api";
                //console.log(use);
                var date = new Date();
                var day = date.getDate();
                var month = date.getMonth() + 1;
                var year = date.getFullYear();
                var today = year + "-" + month + "-" + day;
                $.getJSON(api + "/api/ChartApi/Data?fromDate=2020-01-01&toDate=" + today + "&typeDate=day", function (data) {
                    getdatachart(data);
                });
                function getdatachart(data) {
                    // Create the chart
                    window.chart = new Highcharts.StockChart({
                        chart: {
                            renderTo: 'container'
                        },
                        rangeSelector: {
                            selected: 1,
                            inputDateFormat: '%Y-%m-%d'
                        },

                        series: [{
                            name: 'Order Number',
                            data: data,
                            tooltip: {
                                valueDecimals: 2
                            }
                        }]

                    }, function (chart) {

                        // apply the date pickers
                        setTimeout(function () {
                            $('input.highcharts-range-selector', $('#' + chart.options.chart.renderTo)).datepicker()
                        }, 0)
                    });
                }
                $("#time_submit").click(function (e) {
                    console.log($("#toDate").val())
                    e.preventDefault();
                    $.ajax({
                        type: "GET",
                        url: api + "/api/ChartApi/Data?fromDate=" + $("#fromDate").val() + "&toDate=" + $("#toDate").val() + "&typeDate=day",
                        success: function (data) {
                            // alert(result);
                            getdatachart(data);
                        },
                        error: function (data) {
                            alert('error');
                        }
                    });
                });

                // Set the datepicker's date format
                $.datepicker.setDefaults({
                    dateFormat: 'yy-dd-mm',
                    onSelect: function (dateText) {
                        chart.xAxis[0].setExtremes($('input.highcharts-range-selector:eq(0)').datepicker("getDate").getTime(), $('input.highcharts-range-selector:eq(1)').datepicker("getDate").getTime());
                        //this.onchange();
                        this.onblur();
                    }
                });

            });
        });

    </script>
    <script>
        var api = "@ViewBag.api";
        $.getJSON(api + "/api/ChartApi/IncomeOfYear", function (data) {
            Highcharts.chart('chart2', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Income for the year'
                },
                xAxis: {
                    categories: [
                        'Jan',
                        'Feb',
                        'Mar',
                        'Apr',
                        'May',
                        'Jun',
                        'Jul',
                        'Aug',
                        'Sep',
                        'Oct',
                        'Nov',
                        'Dec'
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    //title: {
                    //    //text: '$'
                    //}
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                        '<td style="padding:0"><b>{point.y:.1f} $</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'Order sucess and not callback',
                    data: data

                }]
            });
        });
    </script>
   
}

